## 数据链路层功能

### 为网络层提供服务

* 无确认的无连接服务：源机器发送数据帧时不需要建立链路连接，目的机器收到数据帧时无需发回确认。数据链路层不重发丢失的帧，交给上层进行处理。
* 有确认的无连接服务：源机器发送数据帧时不需要建立链路连接，目的机器接收到数据帧时必须发回确认；源机器在规定时间内未收到确认信号时，就重传丢失的帧，以提高传输的可靠性。
* 有确认的面向连接服务：帧传输过程分为三个阶段：建立数据链路、传输帧、释放数据链路。目的机器对收到的每一帧都要给出确认，源机器收到确认后才能发送下一帧。

### 链路管理

链路层连接的建立、维持和释放。主要用于面向连接的服务。

### 帧定界、帧同步和透明传输

两台机器之间传输信息时将网络层的分组封装成帧，以帧的格式进行传送。将一段数据前后分别添加首部和尾部的控制信息后，就构成了帧。这些控制信息的一个重要作用就是确定帧的界限。帧同步指的是接收方能够从接收到的二进制信息比特流中区分出帧的起始与终止。

为了提高传输速率，应当使帧的数据部分的长度尽可能大于首部和尾部的长度，每种数据链路层协议都规定了帧的数据部分的长度上限——最大传送单元（MTU）

### 流量控制

用来解决收发双方各自的工作速率和缓存空间的差异。

流量控制在许多高层协议中也存在，只不过控制的对象不同。

### 差错控制

由于噪声等原因，帧在传输过程中可能出现错误，差错控制能够让发送方确认接收方是否正确收到了由其发送的数据。这些错误可分为位错和帧错。

位错指某些位发生了错误，通常采用循环冗余校验（CRC）来发现错误，通过自动重传请求（ARQ）来重传错误。

## 组帧

发送方根据一定的规则把网络层递交的分组封装成帧（称为组帧）。组帧主要为了解决帧定界、帧同步、透明传输等问题。

### 字符计数法

在帧的头部使用一个计数字段来标明帧内字符数。目的结点通过数据链路层收到的字节计数值时，就知道后面跟的字节数，从而可以确定帧结束的位置。

这种方法的问题在于如果计数字段出错，就失去了帧边界划分的依据，接收方就无法判断所传输帧的结束位和下一帧的开始位，收发双方失去同步。

### 字符填充的首尾定界符法

使用特定字符来定界一帧的开始与结束。控制字符SOH放在帧的最前面，表示帧的首部开始，控制字符EOT表示帧的结束。为了使得信息位中出现的特殊字符不被误判为帧的首尾定界符



### 零比特填充的首尾标志法





### 违规编码法







由于字节计数法中计数字段的脆弱性和字符填充法实现上的复杂性和不兼容性，目前常采用的组帧方法为比特填充法和违规编码法。





## 差错控制







## 流量控制与可靠传输机制







## 介质访问控制







## 局域网







## 广域网







## 数据链路层设备

