第2、3节定点数和浮点数可能考大题。

## 数制与编码

### 进位计数制机器相互转换

**进位计数法**

二进制、八进制、十进制、十六进制

**不同进制之间的相互转换**

* 二进制转换为八进制和十六进制：将一串二进制数分为**3位一组或4位一组，补零**，然后分别用八进制或十六进制数代替。
* 任意进制转换为十进制：各位数码与权值相乘，再把乘积相加
* 十进制转化为任意进制数：基数乘除法，对十进制数的整数和小数部分分别处理，整数部分采用**除基取余法**（最先取得的余数为最低位，最后取得的余数为最高位），小数部分采用**乘基取整法**（最先取得的整数位最高位，最后取得的整数位为最低位）。

### 真值和机器数

真值：正负数，是机器数代表的实际值

机器数：把真值数字化为寄存存储的数，常用的有原码、反码、补码

### BCD码

用二进制编码的十进制数，通常用4位二进制数表示一位十进制数字。

8421码：大于1010时要加6修正。

### 字符与字符串

ASCII编码：使用7位二进制编码（每个字节的最高位保持为0，可用于传输时的奇偶校验），可以表示10个十进制数、52个大小写英文字母，以及一些专用符号。

* 编码值0-31：控制字符
* 编码值127是DEL码；编码值32是空格SP
* 编码值32-126：可印刷字符

0-9的ASCII值为48-57

**汉字的编码和表示**

汉字的编码包括汉字的**输入编码、汉字内码、汉字字形码**三种，是计算机用于输入、内部处理、输出的三种编码。

国标码、区位码、汉字内码。

### 校验码

数据校验码的码距：任意两个合法码字之间最少变化的二进制位数

对于码距不小于2的数据校验码，开始具有检错能力。

**奇偶校验码**



**海明校验码**



**CRC码**

在K位信息码后再拼接R位校验码，整个编码长度为N位，所以又称(N,K)编码。

发送端首先将K位信息位左移R位，将其与多项式G(x)作模2除法，生成一个R位校验码，附在信息码后，得到N位编码。

生成多项式G(x)的最高幂次为R，转换成对应二进制码为R+1位。

接收端用生成多项式G(x)作模2除法，余数为0则没有错误。

## 定点数的表示和运算

### 定点数的表示

**无符号数和有符号数**

无符号数：整个机器字长的所有二进制位**均为数值位，没有符号位**

有符号数：有符号数用0表示正号，用1表示负号，从而将符号数值化，通常约定二进制数的最高位为符号位。

有符号数的**机器表示**有**原码、补码、反码和移码**。

**机器数的定点表示**

根据**小数点的位置是否固定**，计算机中有两种数据格式：定点表示和浮点表示。

定点表示约定机器数中的小数点位置固定不变，计算机中通常采用两种简单的约定：将小数点固定在**最高位之前(定点小数)**，或固定在**最低位之后(定点整数)**。

* 定点小数：是**纯小数**，约定小数点位置在符号位之后，有效数值部分最高位之前。表示范围为$1-2^{-n} \to -(1-2^{-n})$
* 定点整数：是**纯整数**，约定小数点位置在有效数值部分最低为之后。

**原码、补码、反码、移码**

* 原码：用机器数的**最高位**表示该数的**符号**，其余各位表示数的绝对值
* 补码：补码中的加减法同一采用加法操作实现
* 反码：由原码求补码或补码求原码的中间过渡
* 移码：用来表示浮点数的阶码，只能表示整数。
  * $[x]_{移}=2^n+x$（机器字长为n+1）

### 定点数的运算

**移位运算**

分为算术移位和逻辑移位，有符号数的移位称为算术移位，逻辑移位的操作对象是逻辑代码，可视为无符号数。

* 算术移位：正数的原码、补码和反码都相同，移位后添0即可；负数依据编码形式不同而不同。
* 逻辑移位：逻辑左移时高位移丢，低位添0；逻辑右移时，低位丢失，高位添0.
* 循环移位：适合将数据的低字节数据和高字节数据互换

**原码定点数的加减法运算**





**补码定点数加减法运算**



**符号扩展**

把采用给定位数表示的数转换成具有不同位数的某种表示形式。



**溢出**

运算结果超出了数的表示范围。

上溢和下溢。

溢出的判断法：

* 一位符号法：只要参加操作的两个数符号相同，结果又与原操作数符号不同，则表示结果溢出
* 双符号位法：模4补码

**定点数的乘法运算**

累加和右移操作实现。



**定点数的除法运算**

累加和左移实现。

### C语言中的整数类型及类型转换

C语言变量之间的类型转换是常出现的题目。

**有符号数和无符号数的转换**

在不同数据类型之间作**强制类型转换**。强制类型转换的结果**保持位值不变，仅改变了解释这些位值的方式**。

**不同字长整数之间的转换**

* 大字长变量向小字长变量转换：把多余高位字长部分直接截断，低位直接赋值。
* 短字长整数向长字长整数转换：不仅相应的位值相等，高位部分还会扩展为原数字的符号位。

### 数据的存储和排列

**存储方法：大端法和小端法**

大端法：按从最高有效字节到最低有效字节的顺序存储数据，即**最高有效字节放在最前面，地址最小**。

小端法：从最低有效字节到最高有效字节存储数据，**最低有效字节放在最前面，地址最小**。

**数据按边界对齐方式存储**

假设存储字长为32位（每次访存读取1个字，即4字节），可按字节、半字和字进行寻址。对于机器字长为32位的计算机，数据以边界对齐方式存放，半字地址一定是2的整数倍，字地址一定是4的整数倍，这样无论所取的数据是字节、半字还是字，均可一次访存取出。所存储的数据不满足以上要求时通过，通过填充空白字节使其符合要求。虽然浪费了一些空间，但能提高取指令和取数的速度。



## 浮点数的表示和运算

### 浮点数的表示

以适当的形式将比例因子表示在数据中，让小数点的位置根据需要而浮动。这样在位数有限的情况下既扩大了数的表示范围，又保持了数的有效精度。





### 浮点数的加减运算







## 算术逻辑运算（ALU）

计算机中，运算器执行各种算术和逻辑运算，运算器由算术逻辑单元（ALU）、累加器、状态寄存器、通用寄存器等组成。ALU的基本功能包括加减乘除四则运算，与或非异或等**逻辑运算**，以及**移位、求补**等操作。

计算机运行时，运算器的操作和操作种类由控制器决定，运算器处理的数据来自存储器，处理后的结果数据通常送回存储器或暂存在运算器中。

### 串行加法器和并行加法器

ALU的核心部件为加法器，加法器由**全加器**再配以其他必要逻辑电路组成。根据组成加法器的**全加器个数是单个或多个**，将加法器分为**串行和并行**。

**一位全加器**





**串行加法器**

只有一个全加器，数据逐位串行送入加法器中进行运算。若操作数长n位，则加法就要分n次进行，每次产生一位和，并串行地送回寄存器。进位触发器用来寄存进位信号，一边参与下一次运算。

**并行加法器**

由多个全加器组成，其位数与机器字长相同，各位数据同时运算。存在最长运算时间问题，主要由进位信号的传递时间决定。

并行加法器的进位通常分为**串行进位**和**并行进位**。





### 算术逻辑单元的功能和结构







