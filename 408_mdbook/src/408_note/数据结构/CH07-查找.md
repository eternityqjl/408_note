## 基本概念

* 查找：在数据集合中寻找满足某种条件的数据元素的过程。查找的结果分为查找成功和失败。
* 查找表（查找结构）：用于查找的数据集合。有同一类型的数据元素组成。可以是一个数据或链表等数据结构。对查找表进行的操作有：
  * 查找某特定元素是否在查找表中；
  * 检索满足条件的某特定的数据元素的各种属性；
  * 在查找表中插入一个数据元素；
  * 从查找表中删除一个数据元素。
* 静态查找表：只涉及以上1和2两个操作。动态查找表：能够动态地插入和删除数据元素。
  * 静态查找表的方法：顺序、折半、散列查找
  * 动态查找表的方法：二叉排序树的查找、散列查找
* 关键字：数据元素中唯一标识该元素的某个数据项
* 平均查找长度：一次查找的长度指的是需要比较的关键字次数，平均查找长度是所有查找过程中进行关键字的比较次数的平均值。



## 顺序查找和折半查找

### 顺序查找

又称线性查找。对顺序表和链表都适用。



### 折半查找

又称二分查找，适用于**有序的顺序表**。该查找方法仅适合于顺序存储结构，且要求元素按关键字有序排列。



### 分块查找

又称索引顺序查找，吸收了顺序和折半查找的优点。既有动态结构，又适合于快速查找。

基本思想：将查找表分为若干子块，字块之间是有序的，块内的元素可以无序，即第一个块中的最大关键字小于第二个块中的所有关键字，以此类推。再建立一个索引表，索引表中的每个元素含有各块的最大关键字和第一个元素的地址。

步骤：第一步再索引表中确定待查记录所在的块，可以使用顺序或折半查找；第二步是在块内查找。



## B树和B+树

### B树

**概念**





**B树的高度（磁盘存取次数**





**B树的查找**

包含两个基本操作：

* 在B树中找结点
* 在结点内找关键字





**B树的插入**





**B树的删除**







### B+树

是B树的一种变形。一个B+树要满足以下条件：







**与B树的差异**









## 散列表

### 基本概念

* 散列函数：一个把查找表中的关键字映射成该关键字对应的地址的函数，记为：Hash(key)=Addr（这里的地址可以是数组下标、索引或内存地址等）

散列函数可能会把多个不同关键字映射到同一地址，这种情况称为冲突，这些**发生碰撞的不同关键词**称为**同义词**。一方面我们要避免冲突，另一方面要设计好处理冲突的方法。

* 散列表：根据关键字而直接进行访问的数据结构，即建立了**关键字**和**存储地址**之间的一种直接映射。理想状况下对散列表进行查找的时间复杂度为O(1)，与表中元素个数无关。

### 散列函数的构造方法

构造散列函数时的注意事项：

* 散列函数的定义域要包含全部的关键字，而值域范围则依赖于散列表大小或地址范围。
* 散列函数计算出的地址应该能等概率、均匀地分布在整个地址空间中
* 散列函数应尽量简单，能在较短时间内计算出任一关键字对应的散列地址。

**直接定址法**





**除留余数法**





**数字分析法**





**平方取中法**





### 处理冲突的方法

发生冲突时的处理方法，即为产生冲突的关键字寻找下一个空的Hash地址。

**开放定址法**

开放定址法指的是可存放新表项的空闲地址既向它的同义表项开放。数学递推公式为：
$$
H_i=(H(key)+d_i)\%m
$$
$H(key)$为散列函数；i=0,1,2,...,k；m表示散列表表长；$d_i$为增量序列。

取定某一增量序列后，对应处理方法就确定了，通常有以下四种取法：

* 线性探测法：$d_i=0,1,2,...,m-1$。冲突发生时，顺序查看表中下一个单元，直到找出一个空闲地址或查遍全表。这种方法可能会造成大量元素在相邻散列地址上的聚集，大大降低了查找效率。
* 平方探测法：$d_i=0^2,1^2,-1^2,2^2,-2^2,...,k^2,-k^2$。其中$k\leq m/2$，散列表m的长度m必须是一个可以表示成4k+3的素数。平方探测法可变避免堆积，但是不能探测到散列表上的所有单元。
* 再散列法：$d_i=Hash_2(key)$。需要使用两个散列函数。
* 伪随机序列法：$d_i=伪随机序列$。

**拉链法**

把所有的同义词存储在一个线性链表中，这个线性链表由其散列地址唯一标识。这种方法适用于经常进行插入和删除的情况。

### 散列查找及性能分析

查找过程的具体举例见书上。

**性能分析**

* 虽然散列表建立了关键字与记录的存储位置之间的直接映射，但由于冲突的存在，导致查找过程仍是一个给定值和关键字的比较过程，仍需以**平均查找长度**衡量散列表的查找效率。

* 装填因子：定义为一个表的装满程度，即：
  $$
  \alpha=\frac{表中记录数n}{散列表长度m}
  $$
  散列表的平均查找长度伊朗与装调因子a，而不直接依赖于n或m。a越大，装填得越慢，发生冲突的可能性越大。

